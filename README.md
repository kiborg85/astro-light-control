# Astro Light Control

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è–º –Ω–∞ –±–∞–∑—ñ ESP8266 –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —á–∞—Å—É —Å—Ö–æ–¥—É –π –∑–∞—Ö–æ–¥—É —Å–æ–Ω—Ü—è.

## üì¶ –û–ø–∏—Å

–ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –≤–º–∏–∫–∞—î –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–∞—Ö–æ–¥—É —Ç–∞ –≤–∏–º–∏–∫–∞—î –ø—ñ—Å–ª—è —Å–≤—ñ—Ç–∞–Ω–∫—É –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö –∑—Å—É–≤—ñ–≤.
–í–µ–±‚Äë—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–∑–≤–æ–ª—è—î:

* –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ Wi‚ÄëFi, —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å—É —Ç–∞ –∑—Å—É–≤—ñ–≤;
* –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω, —á–∞—Å —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—Ö–æ–¥—É/–∑–∞—Ö–æ–¥—É;
* –ø—Ä–∏–º—É—Å–æ–≤–æ –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏ –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è;
* —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ —á–∞—Å –∑ NTP‚Äë—Å–µ—Ä–≤–µ—Ä–∞–º–∏.

## ‚öôÔ∏è –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

* –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —è–∫ STA (Wi‚ÄëFi‚Äë–∫–ª—ñ—î–Ω—Ç), —Ç–∞–∫ —ñ AP (—Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø—É)
* –û—Ç—Ä–∏–º–∞–Ω–Ω—è —á–∞—Å—É –ø–æ NTP
* –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—Ö–æ–¥—É —Ç–∞ –∑–∞—Ö–æ–¥—É –∑–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ (–º. –û–¥–µ—Å–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
* –ó—Å—É–≤–∏ –¥–ª—è —Å—Ö–æ–¥—É —Ç–∞ –∑–∞—Ö–æ–¥—É (—É —Ö–≤–∏–ª–∏–Ω–∞—Ö)
* –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ª—ñ—Ç–Ω—å–æ–≥–æ —á–∞—Å—É (DST) –∑ —Ä—É—á–Ω–∏–º —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è–º
* –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —á–µ—Ä–µ–∑ –≤–µ–±‚Äë—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
* EEPROM‚Äë–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:

  * Wi‚ÄëFi SSID —Ç–∞ –ø–∞—Ä–æ–ª—å
  * –ó—Å—É–≤–∏
  * –ß–∞—Å–æ–≤–∏–π –ø–æ—è—Å
* –í–µ–±‚Äë—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (HTML —Ñ–æ—Ä–º–∞ + —Å—Ç–∞—Ç—É—Å)
* –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–º—É—Å–æ–≤–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–µ–ª–µ
* –û–Ω–æ–≤–ª–µ–Ω–Ω—è —á–∞—Å—É –≤—Ä—É—á–Ω—É
* –°–µ—Ä—ñ–π–Ω–∏–π –≤–∏–≤—ñ–¥ –≤—ñ–¥–ª–∞–¥–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
* –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—à–∏–≤–∫–∏ –ø–æ Wi‚ÄëFi (OTA)

## üè† –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

| –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –ü—ñ–Ω        |
| ----------- | ---------- |
| –†–µ–ª–µ        | D1 (GPIO5) |
| UART Debug  | USB        |

## üåê –í–µ–±‚Äë—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–î–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ IP –ø—Ä–∏—Å—Ç—Ä–æ—é, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: [http://192.168.1.77](http://192.168.1.77)

–ü–æ–∫–∞–∑—É—î:

* –ü–æ—Ç–æ—á–Ω–∏–π —á–∞—Å —Ç–∞ —Ç–∞–π–º–∑–æ–Ω–∞
* –û—Å—Ç–∞–Ω–Ω—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ NTP
* –°–∏—Ä—ñ —Ç–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ —á–∞—Å–∏ —Å—Ö–æ–¥—É/–∑–∞—Ö–æ–¥—É
* –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω —Ä–µ–ª–µ
* –§–æ—Ä–º–∏ –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è:

  * SSID / –ø–∞—Ä–æ–ª—å Wi‚ÄëFi
  * –ß–∞—Å–æ–≤–∏–π –ø–æ—è—Å (—É –≥–æ–¥–∏–Ω–∞—Ö)
  * –ó—Å—É–≤–∏ —Å–≤—ñ—Ç–∞–Ω–∫—É/—Å—É—Ç—ñ–Ω–æ–∫ (—É —Ö–≤–∏–ª–∏–Ω–∞—Ö)
  * –ö–Ω–æ–ø–∫–∏: `Save & Reboot`, `Force NTP Sync`, `Toggle Relay`

## üîß –ó–±—ñ—Ä–∫–∞

* –ü–ª–∞—Ç–∞: Generic ESP8266 Module
* –°–µ—Ä–µ–¥–æ–≤–∏—â–µ: Arduino IDE
* –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–æ—Ä—Ç—É: 115200

–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:

* ESP8266WiFi
* ESP8266WebServer
* WiFiUdp
* NTPClient
* TimeLib
* EEPROM
* ArduinoOTA

## ‚¨ÜÔ∏è OTA

–ü—Ä–∏—Å—Ç—Ä—ñ–π –ø—ñ–¥—Ç—Ä–∏–º—É—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—à–∏–≤–∫–∏ –ø–æ Wi‚ÄëFi –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ `ArduinoOTA`.
–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –º–µ—Ä–µ–∂—ñ –ø—Ä–∏—Å—Ç—Ä—ñ–π –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –≤ Arduino IDE —É —Ä–æ–∑–¥—ñ–ª—ñ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø–æ—Ä—Ç—ñ–≤.
–û–±–µ—Ä—ñ—Ç—å –π–æ–≥–æ —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –Ω–æ–≤–∏–π —Å–∫–µ—Ç—á —è–∫ –∑–≤–∏—á–∞–π–Ω–æ.

## üß† –Ü–¥–µ—ó –¥–ª—è –≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è

* –°–∫–∏–¥–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
* MQTT‚Äë—Ä–µ–∂–∏–º

## üìç –õ–æ–∫–∞—Ü—ñ—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

–ú—ñ—Å—Ç–æ: **–û–¥–µ—Å–∞, –£–∫—Ä–∞—ó–Ω–∞**
–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: **46.4825 N, 30.7233 E**

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
